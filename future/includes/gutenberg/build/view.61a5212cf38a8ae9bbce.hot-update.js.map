{"version":3,"file":"view.61a5212cf38a8ae9bbce.hot-update.js","mappings":"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","sources":["webpack://gk-gravityview-blocks/./shared/js/sort-selector.js","webpack://gk-gravityview-blocks/webpack/runtime/getFullHash"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport Select from 'react-select';\nimport { BaseControl } from '@wordpress/components';\nimport { useEffect } from 'react';\n\n\nexport default function ViewSelector( { viewId, isSidebar, onChange } ) {\n\tconst labels = {\n\t\tselectSortField: __( 'Select a Sort Field', 'gk-gravityview' ),\n\t\tsort: __( 'Sort', 'gk-gravityview' )\n\t};\n\n\tconst fields = [\n\t\t{\n\t\t\tvalue: '',\n\t\t\tlabel: labels.selectSortField\n\t\t},\n\t\t...gkGravityViewBlocks?.views,\n\t];\n\n\tconst selectedView = fields.filter( option => option.value === viewId ) || fields[ 0 ];\n\n\n    /**\n     * Handles the AJAX request with the viewId and logs the results.\n     * \n     * @param {string} viewId The viewId to send.\n     */\n    const fetchData = async ( viewId ) => {\n        try {\n            const response = await fetch( gkGravityViewBlocks.ajax_url, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                body: new URLSearchParams({ \n                    action: 'gv_sortable_fields',\n                    nonce: gkGravityViewBlocks.nonce,\n                    viewid: viewId \n                })\n            });\n\n            if (result.status === 200) {\n                const text = await response.text();\n                console.log(text);\n\n            } else {\n                console.error('Error:', result);\n            }\n        } catch (error) {\n            console.error('Fetch error:', error);\n        }\n    };\n\n    useEffect(() => {\n        fetchData(viewId);\n    }, [viewId]);\n\n\treturn (\n\t\t<BaseControl className={`view-selector ${viewId && isSidebar ? 'edit-view' :''}`} label={ labels.sort }>\n\t\t\t<Select\n\t\t\t\taria-label={ labels.sort }\n\t\t\t\tplaceholder={ labels.selectSortField }\n\t\t\t\tmenuPortalTarget={ document.body }\n\t\t\t\tstyles={ { menuPortal: base => ( { ...base, zIndex: 10 } ) } } // A higher z-index is needed to ensure other editor elements don't overlap the dropdown.\n\t\t\t\tvalue={ '' }\n\t\t\t\toptions={ [] }\n\t\t\t\tonChange={ ( e ) => onChange( e.value ) }\n\t\t\t\tnoOptionsMessage={ () => __( 'No Views found', 'gk-gravityview' ) }\n\t\t\t/>\n\t\t</BaseControl>\n\t);\n}\n","__webpack_require__.h = function() { return \"128495b6013415eef5c2\"; }"],"names":["__","Select","BaseControl","useEffect","ViewSelector","_ref","_s","_gkGravityViewBlocks","viewId","isSidebar","onChange","labels","selectSortField","sort","fields","value","label","concat","_toConsumableArray","gkGravityViewBlocks","views","selectedView","filter","option","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","text","wrap","_callee$","_context","prev","next","fetch","ajax_url","method","headers","body","URLSearchParams","action","nonce","viewid","sent","result","status","console","log","error","t0","stop","_x","apply","arguments","createElement","className","placeholder","menuPortalTarget","document","styles","menuPortal","base","_objectSpread","zIndex","options","e","noOptionsMessage","_c","$RefreshReg$"],"sourceRoot":""}