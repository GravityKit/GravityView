!function($){"use strict";$.fn.selectWoo.amd.define("select2/data/extended-ajax",["./ajax","./tags","../utils","module","jquery"],function(AjaxAdapter,Tags,Utils,module,$){function ExtendedAjaxAdapter($element,options){this.minimumInputLength=options.get("minimumInputLength"),this.defaultResults=options.get("defaultResults"),ExtendedAjaxAdapter.__super__.constructor.call(this,$element,options)}Utils.Extend(ExtendedAjaxAdapter,AjaxAdapter);var originalQuery=AjaxAdapter.prototype.query;return ExtendedAjaxAdapter.prototype.query=function(params,callback){var defaultResults="function"==typeof this.defaultResults?this.defaultResults.call(this):this.defaultResults;if(defaultResults&&defaultResults.length&&(!params.term||params.term.length<this.minimumInputLength)){var data={results:defaultResults};callback(this.processResults(data,params))}else params.term&&params.term.length>=this.minimumInputLength?originalQuery.call(this,params,callback):this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:"",params:params}})},ExtendedAjaxAdapter}),$(document).on("ready",function(){var gv_nonce=$("#gv_entry_creator_nonce").val(),$select=$("#change_created_by"),$defaultResults=$("option[value]:not([selected])",$select),defaultResults=[];$defaultResults.each(function(){var $option=$(this);defaultResults.push({id:$option.attr("value"),text:$option.text(),disabled:$option.attr("disabled")})}),$select.selectWoo({dropdownCssClass:"gv-entry-creator-dropdown",minimumInputLength:3,ajax:{type:"POST",url:GVEntryCreator.ajaxurl,dataType:"json",delay:250,data:function(params){return{q:params.term,page:params.page,action:GVEntryCreator.action,gv_nonce:gv_nonce}},processResults:function(data){var results=[];return data?data.results?data:($.each(data,function(index,user){results.push({id:user.ID,text:user.display_name+" ("+user.user_nicename+")"})}),{results:results}):results},cache:!0},dataAdapter:$.fn.selectWoo.amd.require("select2/data/extended-ajax"),defaultResults:defaultResults}),$("#select2-change_created_by-container").parents(".select2-container--default").addClass("gv-entry-creator-container").addClass(GVEntryCreator.gf25?"gf25":""),$select.on("select2:open",function(){$(".gv-entry-creator-dropdown").addClass(GVEntryCreator.gf25?"gf25":""),$(".gv-entry-creator-dropdown input.select2-search__field").prop("placeholder",GVEntryCreator.language.search_placeholder).attr("aria-label",GVEntryCreator.language.search_placeholder)})})}(jQuery);