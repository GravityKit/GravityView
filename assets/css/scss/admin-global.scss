/**
 * Custom GravityView font
 *
 * @package   GravityView
 * @license   GPL2+
 * @author    GravityKit <hello@gravitykit.com>
 * @link      http://www.gravitykit.com
 * @copyright Copyright 2014, Katz Web Services, Inc.
 *
 * @since 1.0.0
 */

@import "font";
@import "admin-members-plugin";
@import "beacon";
@import "settings";

/* add gravityview menu icon */
#toplevel_page_gravityview_settings .wp-menu-image:before,
#adminmenu .menu-icon-gravityview div.wp-menu-image:before,
#available-widgets [class*=gv_recent_entries] .widget-title:before,
#available-widgets [class*=gravityview_search] .widget-title:before{
	@extend .gv-icon__before;
	@extend .gv-icon-astronaut-head__before;
}

#menu-posts-gravityview .wp-submenu .dashicons {
	padding: 0 .2em;
}

// Fix Make theme overriding button width
.wp-editor-tools #add_gravityview {
	width: auto;
}

// Prevent borders on images in the Getting Started, What's New screens
.gravitykit_page_gv-getting-started .about-wrap,
.post-type-gravityview .about-wrap {

	.feature-video {
		iframe {
			width: 100%;
			max-width: 560px;
		}
		.button-hero {
			font-size: 22px;
			max-width: 100%;
			overflow: hidden;
			text-overflow: ellipsis;
			height: auto;
		}
	}

	.feature-section.three-col .col {
		flex-basis: 30%;
		max-width: 250px;
	}
	.feature-section img {
		border: 1px solid #ccc;
		max-width: 99%; // Allow for border on the right
	}
}

.post-type-gravityview {
	#wpcontent {
		position: relative;
	}

	h1.wp-heading-inline {
		margin-bottom: 24px;

		&:before {
			content: "";
			display: inline-block;
			width: 36px;
			height: 36px;
			margin-right: 8px;
			position: relative;
			top: 9px;
			background-size: contain;
			background-repeat: no-repeat;
			background-position: center;
			background-image: url("data:image/svg+xml,%3Csvg fill='none' height='80' viewBox='0 0 80 80' width='80' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3CclipPath id='a'%3E%3Cpath d='m16 18h48v44h-48z'/%3E%3C/clipPath%3E%3Crect fill='%23ff1b67' height='80' rx='8' width='80'/%3E%3Cg clip-path='url(%23a)'%3E%3Cpath clip-rule='evenodd' d='m58.4105 54.6666h-5.5281v1.8333c0 3.0376-2.4922 5.5-5.528 5.5h-14.741c-3.0759 0-5.5281-2.4624-5.5281-5.5v-27.4999h-5.5281c-1.0428 0-1.8424.8207-1.8424 1.8333v18.3333c0 1.0126.7996 1.8334 1.8424 1.8334h.9216c.4841 0 .9209.4104.9209.9167v1.8333c0 .5062-.4368.9166-.9209.9166h-.9216c-3.0786 0-5.528-2.4624-5.528-5.5v-18.3333c0-3.0376 2.4494-5.5 5.528-5.5h5.5281v-1.8333c0-3.0376 2.4522-5.5 5.5281-5.5h14.741c3.0358 0 5.528 2.4624 5.528 5.5v27.5h5.5281c1.0027 0 1.8424-.8208 1.8424-1.8334v-18.3333c0-1.0126-.8397-1.8333-1.8424-1.8333h-.9216c-.5242 0-.9216-.4104-.9216-.9167v-1.8334c0-.5062.3974-.9166.9216-.9166h.9216c3.0385 0 5.5273 2.4624 5.5273 5.5v18.3333c0 3.0376-2.4888 5.5-5.5273 5.5zm-9.2137-31.1666c0-1.0126-.8424-1.8333-1.8424-1.8333h-14.741c-1.0401 0-1.8425.8207-1.8425 1.8333v32.9999c0 1.0126.8024 1.8334 1.8425 1.8334h14.741c1 0 1.8424-.8208 1.8424-1.8334z' fill='%23fff' fill-rule='evenodd'/%3E%3C/g%3E%3C/svg%3E");
		}

		&:after {
			content: "";
			position: absolute;
			display: block;
			left: -20px; // Adjust for the left padding applied to #wpcontent.
			right: 0;
			height: 84px;
			background: white;
			top: 0;
			z-index: -1;

			@media (max-width: 782px) {
				height: 136px;
			}
		}
	}
}

// Form Toolbar for connected views
#wpwrap .gv_connected_forms {

	.gv-icon {
		font-size: 19px;
		height: 19px;
		width: 20px;
		display: inline-block;
	}

	.gv-create-view:before {
		content: "\f132";
		display: inline-block;
		font-weight: normal;
		font-size: 20px;
		font-family: dashicons!important;
		line-height: 20px!important;
		margin: 0 auto;
		padding: 0;
		position: relative;
		text-align: center;
		width: 20px;
		speak: none;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	.hidden {
		display: none!important;
	}

	.gf_submenu {
		min-width: 150px;
		max-width: 100%;
	}

	li a {
		// Important is necessary because we're dealing with overriding
		// ul#gf_form_toolbar_links .gf_submenu ul li a
		//display: block;
		width: auto;
	}
}

.dashicons-spacer {

}

.gf-popover__button[data-url="#gravityview-group-heading"] {
	font-weight: 500;
	color: #40464d;
	padding-top: 12px;
	padding-bottom: 6px;
	border-radius: 0;
	cursor: default !important;
}
.gf-popover__button__icon:empty {
	display: none;
}

.gf-popover__button[data-url="#gravityview-group-heading"]:hover {
	background: white;
	color: #40464d;
}

// On all Admin pages
.post-type-gravityview,
.gravitykit_page_gv-changelog {

  .changelog ul {
	list-style-type: square;

	ul {
	  list-style: circle;
	  margin: .5em 0 .5em 1.3em;
	}
  }

}

// Entry Creator
.gv-entry-creator-dropdown {
	.select2-search__field {
		padding: 0 4px 0 4px;
	}

	&.gf25 {
		.select2-search__field {
			line-height: 1.25rem;
			padding: .6875rem 1rem;
		}


		&.select2-dropdown--below {
			border-top: initial;
			margin-top: -8px;
		}
	}
}

.gv-entry-creator-container.select2-container--default.gf25 {
	min-height: 4em;

	.select2-selection__arrow {
		display: none;
	}

	.select2-selection__rendered {
		margin: -1px;
	}
}


.gv-fields.csv-disabled {
	cursor: not-allowed;

	.csv-disabled-notice {
		display: block;
	}
	.gv-field-label,
	.gv-field-controls button {
		color: #d7dade !important;
	}

	.ui-tooltip-content .gv-items-picker-container.gv-widget-picker-container & {
		display: none;
	}
}


/** The "Embed Shortcode" section in the Publish metabox */
.gv-shortcode {
	.dashicons-editor-code {
		color: #888;
		left: -1px;
		font-size: 20px;
		line-height: 1;

		html[dir=rtl] & {
			left: auto;
			right: -1px;
		}
	}

	html[dir=rtl] & .code.widefat {
		text-align: right;
	}

	position: relative;

	input.code {
		cursor: pointer;
	}

	span.copied {
		display: none;
		position: absolute;
		top: 30px;
		right: 15px;
		background-color: #000;
		color: #FFF;
		padding: 2px 5px;
		border-radius: 5px;
	}

	.wp-list-table & {
		span.copied {
			top: 3px;
			right: 3px;
		}
	}
}
