<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: templates/views/list/list-body.php - 10up ElasticPress Hook Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

	<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono|IBM+Plex+Sans:300,400|Playfair+Display:900&display=swap" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="styles-10up.css">
</head>

<body>

<div id="main">

	
    <h1 class="page-title">Source: templates/views/list/list-body.php</h1>
	

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>&lt;?php
/**
 * The entry loop for the list output.
 *
 * @global \GV\Template_Context $gravityview
 */

if ( ! isset( $gravityview ) || empty( $gravityview->template ) ) {
	gravityview()->log->error( '{file} template loaded without context', array( 'file' => __FILE__ ) );
	return;
}

$template = $gravityview->template;

/** @hook gravityview/template/list/body/before */
$template::body_before( $gravityview );

// There are no entries.
if ( ! $gravityview->entries->count() ) {
	?>
	&lt;div class="gv-list-view gv-no-results">
		&lt;div class="gv-list-view-title">
			&lt;h3>&lt;?php echo gv_no_results( true, $gravityview ); ?>&lt;/h3>
		&lt;/div>
	&lt;/div>
	&lt;?php
} else {
	// There are entries. Loop through them.
	foreach ( $gravityview->entries->all() as $entry ) {

		$entry_slug = GravityView_API::get_entry_slug( $entry->ID, $entry->as_entry() );

		/** @hook gravityview/template/list/entry/class */
		$entry_class = $template::entry_class( 'gv-list-view', $entry, $gravityview );

	?>
        &lt;div id="gv_list_&lt;?php echo esc_attr( $entry_slug ); ?>" class="&lt;?php echo gravityview_sanitize_html_class( $entry_class ); ?>">

		&lt;?php

		/** @hook gravityview/template/list/entry/before */
		$template::entry_before( $entry, $gravityview );

		/**
         * @var bool $has_title
         * @var bool $has_subtitle
         * @var \GV\Field_Collection $title
         * @var \GV\Field_Collection $subtitle
         */
		extract( $template->extract_zone_vars( array( 'title', 'subtitle' ) ) );

        if ( $has_title || $has_subtitle ) {

			/** @hook gravityview/template/list/entry/title/before */
			$template::entry_before( $entry, $gravityview, 'title' );

            ?>

			&lt;div class="gv-list-view-title">
				&lt;?php
					$did_main = 0;
					foreach ( $title->all() as $i => $field ) {
						// The first field in the title zone is the main
						if ( $did_main == 0 ) {
							$did_main = 1;
							$extras = array( 'wpautop' => false, 'markup' => '&lt;h3 class="{{ class }}">{{ label }}{{ value }}&lt;/h3>' );
						} else {
							$extras = array( 'wpautop' => true );
						}

						$extras['zone_id'] = 'directory_list-title';
						echo $gravityview->template->the_field( $field, $entry, $extras );
					}

					if ( $has_subtitle ) {
						?>&lt;div class="gv-list-view-subtitle">&lt;?php
							$did_main = 0;
							foreach ( $subtitle->all() as $i => $field ) {
								// The first field in the subtitle zone is the main
								if ( $did_main == 0 ) {
									$did_main = 1;
									$extras = array( 'markup' => '&lt;h4 id="{{ field_id }}" class="{{ class }}">{{ label }}{{ value }}&lt;/h4>' );
								}

								$extras['zone_id'] = 'directory_list-subtitle';
								echo $gravityview->template->the_field( $field, $entry, $extras );
							}
						?>&lt;/div>&lt;?php
					}
				?>
			&lt;/div>
		&lt;?php

			/** @hook gravityview/template/list/entry/title/after */
			$template::entry_after( $entry, $gravityview, 'title' );

        }

		/**
		 * @var bool $has_image
		 * @var bool $has_description
         * @var bool $has_content_attributes
		 * @var \GV\Field_Collection $image
		 * @var \GV\Field_Collection $description
         * @var \GV\Field_Collection $attributes
		 */
		extract( $template->extract_zone_vars( array( 'image', 'description', 'content-attributes' ) ) );

		$has_content_before_action = has_action( 'gravityview/template/list/entry/content/before' );
		$has_content_after_action = has_action( 'gravityview/template/list/entry/content/after' );

		if ( $has_image || $has_description || $has_content_attributes || $has_content_before_action || $has_content_after_action ) {
			?>
            &lt;div class="gv-grid gv-list-view-content">

				&lt;?php

					/** @hook gravityview/template/list/entry/content/before */
					$template::entry_before( $entry, $gravityview, 'content' );

					if ( $has_image ) {
						?>&lt;div class="gv-grid-col-1-3 gv-list-view-content-image">&lt;?php
						foreach ( $image->all() as $i => $field ) {
							echo $gravityview->template->the_field( $field, $entry, array( 'zone_id' => 'directory_list-image' ) );
						}
						?>&lt;/div>&lt;?php
					}

					if ( $has_description ) {
						?>&lt;div class="gv-grid-col-2-3 gv-list-view-content-description">&lt;?php
						foreach ( $description->all() as $i => $field ) {
							$extras = array( 'wpautop' => true, 'zone_id' => 'directory_list-description', 'label_markup'  => '&lt;h4>{{ label }}&lt;/h4>' );
							echo $gravityview->template->the_field( $field, $entry, $extras );
						}
						?>&lt;/div>&lt;?php
					}

					if ( $has_content_attributes ) {
						?>&lt;div class="gv-grid-col-3-3 gv-list-view-content-attributes">&lt;?php
						foreach ( $attributes->all() as $i => $field ) {
							$extras = array( 'zone_id' => 'directory_list-content-attributes', 'markup' => '&lt;p id="{{ field_id }}" class="{{ class }}">{{ label }}{{ value }}&lt;/p>' );
							echo $gravityview->template->the_field( $field, $entry, $extras );
						}
						?>&lt;/div>&lt;?php
					}

					/** @hook gravityview/template/list/entry/content/after */
					$template::entry_after( $entry, $gravityview, 'content' );
			?>

            &lt;/div>

			&lt;?php
		}

		/**
		 * @var bool $has_footer_left
		 * @var bool $has_footer_right
		 * @var \GV\Field_Collection $footer_left
		 * @var \GV\Field_Collection $footer_right
		 */
		extract( $template->extract_zone_vars( array( 'footer-left', 'footer-right' ) ) );

		// Is the footer configured?
		if ( $has_footer_left || $has_footer_right ) {
			/** @action gravityview/template/list/entry/footer/before */
			$template::entry_before( $entry, $gravityview, 'footer' );
			?>

			&lt;div class="gv-grid gv-list-view-footer">
				&lt;div class="gv-grid-col-1-2 gv-left">
					&lt;?php
						foreach ( $footer_left->all() as $i => $field ) {
							echo $gravityview->template->the_field( $field, $entry, array( 'zone_id' => 'directory_list-footer-left' ) );
						}
					?>
				&lt;/div>

				&lt;div class="gv-grid-col-1-2 gv-right">
					&lt;?php
						foreach ( $footer_right->all() as $i => $field ) {
							echo $gravityview->template->the_field( $field, $entry, array( 'zone_id' => 'directory_list-footer-right' ) );
						}
					?>
				&lt;/div>
			&lt;/div>

			&lt;?php

			/** @action gravityview/template/list/entry/footer/after */
			$template::entry_after( $entry, $gravityview, 'footer' );

		} // End if footer is configured

		/** @action gravityview/template/list/entry/after */
		$template::entry_after( $entry, $gravityview );

		?>

		&lt;/div>

	&lt;?php }
}

/** @hook gravityview/template/list/body/after */
$template::body_after( $gravityview );
</code></pre>
        </article>
    </section>





    <footer>
		<a href="https://gravityview.co/">GravityView.co</a> &bull;
		<a href="https://github.com/gravityview/GravityView/">GravityView on GitHub</a>
	</footer>


</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Actions</h3><ul><li><a href="gravityview_approve_entries_autounapprove_status.html">gravityview/approve_entries/autounapprove/status</a></li><li><a href="gravityview_approve_entries_popover_placement.html">gravityview/approve_entries/popover_placement</a></li><li><a href="gravityview_common_get_entry_id_from_slug_form_id.html">gravityview/common/get_entry_id_from_slug/form_id</a></li><li><a href="gravityview_common_get_form_fields.html">gravityview/common/get_form_fields</a></li><li><a href="gravityview_data_parse_meta_keys.html">gravityview/data/parse/meta_keys</a></li><li><a href="gravityview_edit_entry_render_hidden_field.html">gravityview/edit_entry/render_hidden_field</a></li><li><a href="gravityview_entry_permalink.html">gravityview/entry/permalink</a></li><li><a href="gravityview_entry_slug.html">gravityview/entry/slug</a></li><li><a href="gravityview_field_quiz_percent_format.html">gravityview/field/quiz_percent/format</a></li><li><a href="gravityview_fields_fileupload_link_atts.html">gravityview/fields/fileupload/link_atts</a></li><li><a href="gravityview_loaded.html">gravityview/loaded</a></li><li><a href="gravityview_query_class.html">gravityview/query/class</a></li><li><a href="gravityview_search_operator_whitelist.html">gravityview/search/operator_whitelist</a></li><li><a href="gravityview_security_require_unfiltered_html.html">gravityview/security/require_unfiltered_html</a></li><li><a href="gravityview_setting_class_%25257Bfield_type%25257D.html">gravityview/setting/class/{field_type}</a></li><li><a href="gravityview_setting_class_file_%25257Bfield_type%25257D.html">gravityview/setting/class_file/{field_type}</a></li><li><a href="gravityview_template_entry_context.html">gravityview/template/entry/context</a></li><li><a href="gravityview_template_field_context.html">gravityview/template/field/context</a></li><li><a href="gravityview_template_field_label.html">gravityview/template/field/label</a></li><li><a href="gravityview_template_list_body_after.html">gravityview/template/list/body/after</a></li><li><a href="gravityview_template_list_body_before.html">gravityview/template/list/body/before</a></li><li><a href="gravityview_template_list_entry_before.html">gravityview/template/list/entry/before</a></li><li><a href="gravityview_template_list_entry_class.html">gravityview/template/list/entry/class</a></li><li><a href="gravityview_template_list_entry_content_after.html">gravityview/template/list/entry/content/after</a></li><li><a href="gravityview_template_list_entry_content_before.html">gravityview/template/list/entry/content/before</a></li><li><a href="gravityview_template_list_entry_title_after.html">gravityview/template/list/entry/title/after</a></li><li><a href="gravityview_template_list_entry_title_before.html">gravityview/template/list/entry/title/before</a></li><li><a href="gravityview_template_list_entry_%2525257B$zone%2525257D_after.html">gravityview/template/list/entry/{$zone}/after</a></li><li><a href="gravityview_template_table_body_after.html">gravityview/template/table/body/after</a></li><li><a href="gravityview_template_table_body_before.html">gravityview/template/table/body/before</a></li><li><a href="gravityview_template_table_entry_class.html">gravityview/template/table/entry/class</a></li><li><a href="gravityview_template_table_entry_hide_empty.html">gravityview/template/table/entry/hide_empty</a></li><li><a href="gravityview_template_table_tr_after.html">gravityview/template/table/tr/after</a></li><li><a href="gravityview_template_table_tr_before.html">gravityview/template/table/tr/before</a></li><li><a href="gravityview_template_view_context.html">gravityview/template/view/context</a></li><li><a href="gravityview_view_get.html">gravityview/view/get</a></li><li><a href="gravityview_view_widgets_default.html">gravityview/view/widgets/default</a></li><li><a href="gravityview_widgets_search_created_by_user_fields.html">gravityview/widgets/search/created_by/user_fields</a></li><li><a href="gravityview_widgets_search_created_by_user_meta_fields.html">gravityview/widgets/search/created_by/user_meta_fields</a></li><li><a href="gravityview_widgets_search_datepicker_format.html">gravityview/widgets/search/datepicker/format</a></li><li><a href="gravityview_connected_form_links.html">gravityview_connected_form_links</a></li><li><a href="gravityview_directory_endpoint.html">gravityview_directory_endpoint</a></li><li><a href="gravityview_directory_link.html">gravityview_directory_link</a></li><li><a href="gravityview_get_entries.html">gravityview_get_entries</a></li><li><a href="gravityview_pre_get_entries.html">gravityview_pre_get_entries</a></li><li><a href="gravityview_search_operator.html">gravityview_search_operator</a></li><li><a href="gravityview_table_cells.html">gravityview_table_cells</a></li><li><a href="gravityview_view_saved.html">gravityview_view_saved</a></li></ul><h3>Filters</h3><ul><li><a href="gravityview_admin_available_fields.html">gravityview/admin/available_fields</a></li><li><a href="gravityview_entry_link_add_query_args.html">gravityview/entry_link/add_query_args</a></li><li><a href="gravityview_metaboxes_tooltips.html">gravityview/metaboxes/tooltips</a></li><li><a href="gravityview_rewrite_reserved_slugs.html">gravityview/rewrite/reserved_slugs</a></li><li><a href="gravityview_template_table_fields.html">gravityview/template/table/fields</a></li><li><a href="gravityview_view_collection_from_post_meta_keys.html">gravityview/view_collection/from_post/meta_keys</a></li><li><a href="gravityview_additional_fields.html">gravityview_additional_fields</a></li><li><a href="gravityview_entry_default_fields.html">gravityview_entry_default_fields</a></li><li><a href="gravityview_field_entry_link.html">gravityview_field_entry_link</a></li><li><a href="gravityview_search_criteria.html">gravityview_search_criteria</a></li><li><a href="gravityview_template_active_areas.html">gravityview_template_active_areas</a></li></ul>
</nav>

<br class="clear">

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
